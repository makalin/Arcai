# Arcai Outputs

This directory contains the outputs generated by the Arcai archaeological site detection system.

## Output Types

### Detection Results
- **Visualizations**: PNG images showing detection results overlaid on satellite imagery
- **Interactive Maps**: HTML files with Folium maps showing detected sites
- **Confidence Plots**: Bar charts showing detection confidence scores
- **Comparison Visualizations**: Side-by-side comparisons of multiple detections

### Training Results
- **Training History**: PNG plots showing loss and accuracy curves
- **Model Architecture**: PNG diagrams of the neural network structure
- **Evaluation Metrics**: JSON files with detailed performance statistics

### Reports
- **HTML Reports**: Comprehensive detection reports with statistics
- **GeoJSON Exports**: Geographic data for use in GIS applications
- **JSON Results**: Structured data with detection coordinates and confidence scores

## File Naming Convention

### Detection Outputs
```
detection_result_[timestamp].png          # Main detection visualization
interactive_map_[timestamp].html          # Interactive Folium map
confidence_plot_[timestamp].png           # Confidence score visualization
detection_report_[timestamp].html         # HTML report
results_[timestamp].json                  # JSON results
geojson_export_[timestamp].geojson        # GeoJSON export
```

### Training Outputs
```
training_history.png                      # Training curves
model_architecture.png                    # Model structure diagram
evaluation_results.json                   # Performance metrics
training_config.json                      # Training configuration
```

## Output Formats

### Image Files (PNG)
- **Resolution**: 300 DPI for high-quality printing
- **Color Space**: RGB
- **Compression**: Lossless PNG format
- **Size**: Typically 15-20 MB for full-resolution outputs

### Interactive Maps (HTML)
- **Framework**: Folium (Python wrapper for Leaflet.js)
- **Features**: Zoom, pan, popup information
- **Markers**: Color-coded by confidence level
- **Layers**: Satellite imagery and detection overlays

### Data Files (JSON/GeoJSON)
- **Encoding**: UTF-8
- **Structure**: Well-formatted with proper indentation
- **Metadata**: Includes timestamps and processing parameters
- **Compatibility**: Standard GIS and web mapping tools

## Output Content

### Detection Visualization
Each detection visualization includes:
- **Original Image**: Satellite imagery as input
- **Detection Overlay**: Bounding boxes around detected sites
- **Confidence Scores**: Percentage confidence for each detection
- **Statistics**: Total number of sites detected
- **Legend**: Color coding and scale information

### Interactive Map Features
- **Site Markers**: Clickable markers for each detection
- **Popup Information**: Detailed site information
- **Confidence Legend**: Color-coded confidence levels
- **Layer Controls**: Toggle different map layers
- **Export Options**: Download data in various formats

### HTML Report Contents
- **Executive Summary**: Overview of detection results
- **Site Details**: Individual site information
- **Statistics**: Summary statistics and metrics
- **Visualizations**: Embedded charts and images
- **Metadata**: Processing parameters and timestamps

## Usage Examples

### Viewing Detection Results
```bash
# Open visualization in default image viewer
open outputs/detection_result_20231201_143022.png

# Open interactive map in web browser
open outputs/interactive_map_20231201_143022.html

# View HTML report
open outputs/detection_report_20231201_143022.html
```

### Loading Results in Python
```python
import json
import geopandas as gpd

# Load JSON results
with open('outputs/results_20231201_143022.json', 'r') as f:
    results = json.load(f)

# Load GeoJSON in GIS
gdf = gpd.read_file('outputs/geojson_export_20231201_143022.geojson')
```

### Web Integration
```html
<!-- Embed interactive map in web page -->
<iframe src="outputs/interactive_map_20231201_143022.html" 
        width="100%" height="600px" frameborder="0"></iframe>

<!-- Embed detection report -->
<iframe src="outputs/detection_report_20231201_143022.html" 
        width="100%" height="800px" frameborder="0"></iframe>
```

## Output Management

### File Organization
- **Automatic Timestamping**: All outputs include timestamps
- **Version Control**: Track changes in output quality
- **Backup Strategy**: Archive important results
- **Cleanup**: Remove old outputs periodically

### Quality Control
- **Validation**: Verify output accuracy
- **Format Checking**: Ensure proper file formats
- **Metadata**: Include processing parameters
- **Documentation**: Document any special processing

## Customization

### Output Format Options
- **Image Quality**: Adjust DPI and compression
- **Map Style**: Customize colors and markers
- **Report Template**: Modify HTML report layout
- **Data Format**: Choose JSON, CSV, or other formats

### Integration Options
- **GIS Software**: QGIS, ArcGIS compatibility
- **Web Mapping**: Leaflet, Mapbox integration
- **Data Analysis**: Python, R, MATLAB import
- **Documentation**: PDF export capabilities

## Troubleshooting

### Common Issues
- **Large File Sizes**: Reduce image resolution or use compression
- **Missing Dependencies**: Install required libraries for visualization
- **Memory Issues**: Process images in smaller batches
- **Format Errors**: Check file permissions and disk space

### Performance Optimization
- **Parallel Processing**: Use multiple CPU cores
- **Memory Management**: Clear variables between operations
- **Caching**: Cache intermediate results
- **Compression**: Use appropriate compression settings

---

For questions about output formats or customization, please refer to the main documentation or open an issue. 